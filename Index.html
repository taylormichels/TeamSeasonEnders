<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="tseApp">
<head>
    <title>Team Season Enders</title>
    <script src="/Scripts/Common/angular.js"></script>
    <script src="/Scripts/Common/angular-resource.min.js"></script>
    <script src="/Scripts/Common/angular-route.js"></script>
    <script src="/Scripts/TSE/controllers.js"></script>
    <script src="/Scripts/TSE/factories.js"></script>
    <script src="/Scripts/TSE/filters.js"></script>    
    <script src="/Scripts/canvg/rgbcolor.js"></script>
    <script src="/Scripts/canvg/StackBlur.js"></script>
    <script src="/Scripts/canvg/canvg.js"></script>    
    <script src="/Scripts/Common/jquery-1.8.2.min.js"></script>
    <script src="/Scripts/canvg/jquery.adaptive-backgrounds.js"></script>
    <link type="text/css" rel="stylesheet" href="/CSS/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="/CSS/main.css" />
    <link type="text/css" rel="stylesheet" href="/CSS/menu.css" />
    <link type="text/css" rel="stylesheet" href="/CSS/font-awesome.min.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
        var app = angular.module('tseApp', [
                'ngRoute',
                'factory.data',
                'controllers.team',
                'formatters.logo'
        ])
        .config(['$routeProvider', function ($routeProvider) {
            $routeProvider.when('/', {
                templateUrl: '/templates/teams.html',
                controller: 'TeamController'
            })
            .otherwise({
                redirectTo: '/'
            });
        }]);
</script>
</head>
<body>
    <div id="tse-container">    
        <div id="tse-canvas">
            <div id="tse-navbar">
                <a class="toggle-nav">
                    <i class="fa fa-bars"></i>
                    <span class="app-title">
                        NHL Playoff Rivalries
                    </span>
                </a>
                <div id="tse-menu">
                    <ul>
                        <li><a>Foobar</a></li>
                        <li><a>Some Other</a></li>
                        <li class="app-title-desktop">
                            NHL Playoff Rivalries
                        </li>
                    </ul>
                </div>
            </div>   
            
            <br />
            <section ng-view></section>        
        </div>         
    </div>    
</body>
</html>
<script type="text/javascript">
    // this sets background color to prominent color in logo
    // todo: maybe make this a service or better implement
    setTimeout(function (event) {
        canvg(document.getElementById('canLogo'),
                document.getElementById('topLogo').src);
        var canvas = document.getElementById('canLogo');
        var image = document.getElementById('tempLogo');
        image.src = canvas.toDataURL("image/png");
        var defaults = { parent: 'body' };
        $.adaptiveBackground.run(defaults);
    }, 100);

    /*========================================
    /            Menu logic            
    ========================================*/
        $(function () {
            // Toggle Nav on Click
            $('.toggle-nav').click(function () {
                // Calling a function in case you want to expand upon this.
                toggleNav();
            });
        });

        function toggleNav() {
            if ($('#tse-container').hasClass('show-nav')) {
                // Do things on Nav Close
                $('#tse-container').removeClass('show-nav');
            } else {
                // Do things on Nav Open
                $('#tse-container').addClass('show-nav');
            }
        }
</script>
